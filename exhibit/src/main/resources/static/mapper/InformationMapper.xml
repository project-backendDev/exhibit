<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper 
   PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
   
<mapper namespace="com.project.exhibit.information.InformationMapper">
	<resultMap type="com.project.exhibit.information.Information" id="Information">
		<result property="reserve_Seq"		column="reserve_Seq" />
		<result property="name"				column="name" />
		<result property="tel"				column="tel" />
		<result property="visit_day"		column="visit_day" />
		<result property="visit_time"		column="visit_time" />
		<result property="reserve_people"	column="reserve_people" />
		<result property="transfer"			column="transfer" />
		<result property="add_item1"		column="add_item1" />
		<result property="add_item2"		column="add_item2" />
		<result property="add_item3"		column="add_item3" />
		<result property="add_item4"		column="add_item4" />
		<result property="add_item5"		column="add_item5" />
	</resultMap>
	
	<!-- 사용자 부분 SQL -->
	
	<!-- 단체관람 예약 INSERT -->
	<insert id="insertReservation" parameterType="com.project.exhibit.information.InformationMapper" 
		useGeneratedKeys="true" keyProperty="reserve_Seq">
	INSERT INTO EXHIBIT_INFORMATION_RESERVATION (
		name, tel, visit_day, visit_time, reserve_people, transfer, add_item1, add_item2, add_item3, add_item4, add_item5
	) VALUES (
		#{name}, #{tel}, #{visit_day}, #{visit_time}, #{reserve_people}, #{transfer}, null, null, null, null, null
	)
	</insert>
	
	
	<!-- 관리자 부분 SQL -->
	
	<!-- 단체관람 예약 확인 -->
	<select id="selectReservationList" resultMap="Information" parameterType="String">
		SELECT	*
		FROM	EXHIBIT_INFORMATION_RESERVATION
	</select>
	
    <!-- 이미 등록된 핸드폰 번호 중복검사 
    <select id="selectDuplicateTel" resultMap="Information" parameterType="String">
        SELECT 	count(tel) 
        FROM  	EXHIBIT_INFORMATION_RESERVATION
        WHERE 	tel = #{tel}
    </select>
    -->
    
    <!-- 이미 등록된 이름 중복검사 
    <select id="selectDuplicateTel" resultMap="Information" parameterType="String">
        SELECT 	count(name) 
        FROM  	EXHIBIT_INFORMATION_RESERVATION
        WHERE 	name = #{name}
    </select>
    -->
</mapper>